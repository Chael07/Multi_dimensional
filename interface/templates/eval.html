{% extends 'base_about.html' %}
{% load static %}

{% block content %}

<link rel="stylesheet" type="text/css" href="{% static 'css/eval.css' %}">

   <!-- Header -->
   <header id="header" class="ex-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Evaluation</h1>
            </div> <!-- end of col -->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
</header> <!-- end of ex-header -->
<!-- end of header -->

<style>
     .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        .form-input {
            width: calc(100% - 16px);
            padding: 10px;
            box-sizing: border-box;
            border: 1px solid  #4189e0;
            border-radius: 4px;
            margin-bottom: 8px;
            transition: border-color 0.3s ease-in-out;
        }

        .form-input-short {
            width: calc(50% - 16px);
            padding: 10px;
            box-sizing: border-box;
            border: 1px solid  #4189e0;
            border-radius: 4px;
            margin-bottom: 8px;
            transition: border-color 0.3s ease-in-out;
        }

        .form-input:focus {
            border-color: #4682b4; /* Steel Blue */
            outline: none;
        }
</style>


<div class="question_contain">
  <form id="questionForm" action="{% url 'submit_household' %}" method="post" onsubmit="return householdValidateForm();">
     {% csrf_token %}

<h3 style="margin-top: 1cm; padding-bottom: 0.8cm;">Personal Information</h3>

      <div class="form-group">
        <label class="form-label" for="first_name">First Name:</label>
        <input class="form-input-short" type="text" id="first_name" name="first_name" placeholder="Enter First Name" required>
      </div>

      <div class="form-group">
        <label class="form-label" for="last_name">Last Name:</label>
        <input class="form-input-short" type="text" id="last_name" name="last_name" placeholder="Enter Last Name" required>
      </div>

      <div class="form-group">
        <label class="form-label" for="email">Email:</label>
        <input class="form-input-short" type="email" id="email" name="email" placeholder="Enter Email" required>
      </div>

      <div class="form-group">
        <label class="form-label" for="Cnumber">Contact Number</label>
        <input class="form-input-short" type="tel" id="Cnumber" name="Cnumber" placeholder="09123456789" required>
      </div>

      <div class="form-group">
        <label class="form-label" for="Address">Address</label>
        <input class="form-input" type="text" id="Address" name="Address" placeholder="Enter your Address" required>
      </div>

    <h3 style="margin-top: 1cm; ">Questions for Evaluation </h3>

      <div class="question">
          <span>1. Is there a household member aged 18 or older who does not complete basic k-12 curriculum?</span>
          <div class="custom-options">
            <input type="radio" name="q1" id="q1_yes" value="0.076923077" ><label for="q1_yes"> Yes</label>
            <input type="radio" name="q1" id="q1_no" value="0" ><label for="q1_no"> No</label>
          </div>
        </div>
    
        <div class="question">
          <span>2. Is there a household member whose age ranges from 5 to 18 that is not attending school?</span>
          <div class="custom-options">
            <input type="radio" name="q2" id="q2_yes" value="0.076923077" ><label for="q2_yes"> Yes</label>
            <input type="radio" name="q2" id="q2_no" value="0" ><label for="q2_no"> No</label>
          </div>
        </div>
    
        <div class="question">
          <span>3. Is there a household member that experienced hunger for the past months?</span>
          <div class="custom-options">
            <input type="radio" name="q3" id="q3_yes" value="0.076923077" ><label for="q3_yes"> Yes</label>
            <input type="radio" name="q3" id="q3_no" value="0" ><label for="q3_no"> No</label>
          </div>
        </div>
    
        <div class="question">
          <span>4. Is there a household member who does not eat three times a day?</span>
          <div class="custom-options">
            <input type="radio" name="q4" id="q4_yes" value="0.076923077" ><label for="q4_yes"> Yes</label>
            <input type="radio" name="q4" id="q4_no" value="0" ><label for="q4_no"> No</label>
          </div>
        </div>
    
        <div class="question">
          <span>5. Is there a household member who does not have access to health insurance?</span>
          <div class="custom-options">
            <input type="radio" name="q5" id="q5_yes" value="0.076923077" ><label for="q5_yes"> Yes</label>
            <input type="radio" name="q5" id="q5_no" value="0" ><label for="q5_no"> No</label>
          </div>
        </div>
    
        <div class="question">
            <span>6.	Does the household lack basic appliances such as a TV, cellphone, radio, etc.?</span>
            <div class="custom-options">
                <input type="radio" name="q6" id="q6_yes" value="0.076923077" ><label for="q6_yes"> Yes</label>
                <input type="radio" name="q6" id="q6_no" value="0" ><label for="q6_no"> No</label>
            </div>
          </div>
      
          <div class="question">
            <span>7.	Does the household lack its own toilet facility?</span>
            <div class="custom-options">
                <input type="radio" name="q7" id="q7_yes" value="0.076923077" ><label for="q7_yes"> Yes</label>
                <input type="radio" name="q7" id="q7_no" value="0" ><label for="q7_no"> No</label>
            </div>
          </div>
    
          <div class="question">
            <span>8.	Does the household lack access to safe drinking water?</span>
            <div class="custom-options">
                <input type="radio" name="q8" id="q8_yes" value="0.076923077" ><label for="q8_yes"> Yes</label>
                <input type="radio" name="q8" id="q8_no" value="0" ><label for="q8_no"> No</label>
            </div>
          </div>
      
          <div class="question">
            <span>9.	Does the household lack access to electricity?</span>
            <div class="custom-options">
                <input type="radio" name="q9" id="q9_yes" value="0.076923077" ><label for="q9_yes"> Yes</label>
                <input type="radio" name="q9" id="q9_no" value="0" ><label for="q9_no"> No</label>
            </div>
          </div>
    
          <div class="question">
            <span>10.	Does the household lack ownership rights to its dwelling?</span>
            <div class="custom-options">
                <input type="radio" name="q10" id="q10_yes" value="0.076923077" ><label for="q10_yes"> Yes</label>
                <input type="radio" name="q10" id="q10_no" value="0" ><label for="q10_no"> No</label>
            </div>
          </div>
      
          <div class="question">
            <span>11.	Is the house made entirely of wood?</span>
            <div class="custom-options">
                <input type="radio" name="q11" id="q11_yes" value="0.076923077" ><label for="q11_yes"> Yes</label>
                <input type="radio" name="q11" id="q11_no" value="0" ><label for="q11_no"> No</label>
            </div>
          </div>
    
          <div class="question">
            <span>12.	Is there a household member capable of working but currently not employed?</span>
            <div class="custom-options">
                <input type="radio" name="q12" id="q12_yes" value="0.076923077" ><label for="q12_yes"> Yes</label>
                <input type="radio" name="q12" id="q12_no" value="0" ><label for="q12_no"> No</label>
            </div>
          </div>
      
          <div class="question">
            <span>13.	Is there a household member aged 5 to 17 who is employed rather than attending school?</span>
            <div class="custom-options">
                <input type="radio" name="q13" id="q13_yes" value="0.076923077" ><label for="q13_yes"> Yes</label>
                <input type="radio" name="q13" id="q13_no" value="0" ><label for="q13_no"> No</label>
            </div>
          </div>
          <p id="formErrorMessage" style="color: red; display: none;">Please answer all questions before submitting.</p> 
          <div class="submit-button">
            <button type="submit" class="btn-solid-reg page-scroll eval-submit-button" onclick="return householdSubmitForm();">Submit</button>
          </div>           

</form>
</div>

    <script>
      function householdValidateForm() {
        // Get all radio button groups
        var radioGroups = document.querySelectorAll('input[type="radio"]:checked');
      
        // Check if the number of selected radio buttons is equal to the total number of questions
        if (radioGroups.length === 13) {
          // Reset border color for all questions
          resetQuestionBorders();
          return true; // All questions are answered, allow form submission
        } else {
          // Display the error message
          var errorMessage = document.getElementById('formErrorMessage');
          errorMessage.style.display = 'block';
      
          // Identify unanswered questions
          var unansweredQuestions = [];
          var questions = document.querySelectorAll('.question');
      
          questions.forEach(function (question, index) {
            var questionName = 'q' + (index + 1);
            var selectedAnswer = document.querySelector('input[name="' + questionName + '"]:checked');
            
            if (!selectedAnswer) {
              unansweredQuestions.push(index + 1);
      
              // Change the border color of the unanswered question to red
              question.style.border = '1px solid rgb(212, 127, 127)';
              question.style.borderRadius = '10px';
            }
          });
      
          // Add an event listener to each radio button to remove the red border when clicked
          var radioButtons = document.querySelectorAll('input[type="radio"]');
          radioButtons.forEach(function (radioButton) {
            radioButton.addEventListener('change', function () {
              var question = radioButton.closest('.question');
              question.style.border = 'none';
            });
          });
      
          // Display a more detailed error message
          if (unansweredQuestions.length > 0) {
            errorMessage.innerHTML = 'Please answer questions ' + unansweredQuestions.join(', ') + ' before submitting.';
          }
      
          // Prevent form submission
          return false;
        }
      }
      
      // Function to reset the border color for all questions
      function resetQuestionBorders() {
        var questions = document.querySelectorAll('.question');
        questions.forEach(function (question) {
          question.style.border = 'none'; // Change to the original border color
        });
      }
      </script>
      
{% endblock content %}


